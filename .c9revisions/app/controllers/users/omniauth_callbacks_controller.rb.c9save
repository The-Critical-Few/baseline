{"ts":1377016286807,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class Users::OmniauthCallbacksController < Devise::OmniauthCallbacksController\r\n    def google_oauth2\r\n\t    # You need to implement the method below in your model (e.g. app/models/user.rb)\r\n\t    @user = User.find_for_google_oauth2(request.env[\"omniauth.auth\"], current_user)\r\n\r\n\t    if @user.persisted?\r\n\t      flash[:notice] = I18n.t \"devise.omniauth_callbacks.success\", :kind => \"Google\"\r\n\t      sign_in_and_redirect @user, :event => :authentication\r\n\t    else\r\n\t      session[\"devise.google_data\"] = request.env[\"omniauth.auth\"]\r\n\t      redirect_to new_user_registration_url\r\n\t    end\r\n\tend\r\nend"]],"start1":0,"start2":0,"length1":0,"length2":598}]],"length":598}
